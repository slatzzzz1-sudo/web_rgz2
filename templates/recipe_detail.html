{% extends "base.html" %}

{% block title %}{{ recipe.title }} - –†–µ—Ü–µ–ø—Ç—ã{% endblock %}

{% block content %}
<div class="recipe-detail">
    <div class="recipe-header">
        {% if recipe.image_path %}
        <img src="{{ url_for('static', filename='images/' + recipe.image_path) }}" alt="{{ recipe.title }}">
        {% else %}
        <div class="no-image-large">üì∑ {{ recipe.title }}</div>
        {% endif %}
        <div class="recipe-info">
            <h1>{{ recipe.title }}</h1>
            {% if recipe.category_name %}
            <span class="category">{{ recipe.category_name }}</span>
            {% endif %}
            <div class="recipe-meta">
                <span class="time">{{ recipe.cooking_time }} –º–∏–Ω</span>
                <span class="servings">√ó{{ recipe.servings }}</span>
            </div>
            {% if recipe.description %}
            <p>{{ recipe.description }}</p>
            {% endif %}
        </div>
    </div>

    <div class="recipe-content">
        <section class="ingredients-section">
            <h3>ü•ò –ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã</h3>
            <ul class="ingredients-list">
                {% for ingredient in ingredients %}
                <li>{{ ingredient.quantity }} {{ ingredient.unit }} {{ ingredient.name }}</li>
                {% endfor %}
            </ul>
        </section>

        <section class="steps-section">
            <h3>üë®‚Äçüç≥ –®–∞–≥–∏ –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è</h3>
            <ol class="steps-list">
                {% for step in steps %}
                <li>{{ step.description }}</li>
                {% endfor %}
            </ol>
        </section>
    </div>
</div>

<style>
.recipe-detail { max-width: 900px; margin: 0 auto; }
.recipe-header { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 2rem; }
.recipe-header img, .no-image-large { grid-row: span 2; height: 400px; object-fit: cover; border-radius: 15px; }
.no-image-large { background: linear-gradient(135deg, #667eea, #764ba2); color: white; font-size: 2rem; display: flex; flex-direction: column; align-items: center; justify-content: center; }
.recipe-info h1 { margin-bottom: 1rem; color: #2d3748; }
.recipe-meta { display: flex; gap: 1rem; margin: 1rem 0; }
.ingredients-section, .steps-section { background: #f7fafc; padding: 2rem; border-radius: 15px; margin-bottom: 2rem; }
.ingredients-list, .steps-list { list-style-position: inside; padding-left: 1rem; }
.steps-list { counter-reset: step-counter; }
.steps-list li { counter-increment: step-counter; padding: 1rem; background: white; margin-bottom: 1rem; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
.steps-list li:before { content: counter(step-counter) ". "; background: #667eea; color: white; padding: 0.3rem 0.8rem; border-radius: 50%; font-weight: bold; margin-right: 1rem; }
@media (max-width: 768px) { .recipe-header { grid-template-columns: 1fr; } }
</style>
{% endblock %}
