{% extends "base.html" %}

{% block title %}–ü–æ–∏—Å–∫ —Ä–µ—Ü–µ–ø—Ç–æ–≤ - –†–µ—Ü–µ–ø—Ç—ã{% endblock %}

{% block content %}
<div class="search-page">
    <h2>üîç –ü–æ–∏—Å–∫ —Ä–µ—Ü–µ–ø—Ç–æ–≤</h2>
    
    <form method="POST" class="search-form">
        <div class="form-group">
            <label>–ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ (–Ω–∞–∑–≤–∞–Ω–∏–µ –∏–ª–∏ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã):</label>
            <input type="text" name="keywords" placeholder="–∫—É—Ä–∏—Ü–∞ —Ä–∏—Å –æ–º–ª–µ—Ç" style="width: 70%;">
        </div>
        <div class="form-row">
            <div class="form-group" style="width: 48%;">
                <label>–†–µ–∂–∏–º –ø–æ–∏—Å–∫–∞:</label>
                <select name="mode">
                    <option value="any">–•–æ—Ç—å –æ–¥–∏–Ω –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç</option>
                    <option value="all">–í—Å–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã</option>
                </select>
            </div>
            <button type="submit" class="btn btn-primary" style="width: 48%; margin-top: 1.5rem;">üîç –ù–∞–π—Ç–∏</button>
        </div>
    </form>

    {% if recipes %}
    <h3>–ù–∞–π–¥–µ–Ω–æ —Ä–µ—Ü–µ–ø—Ç–æ–≤: {{ recipes|length }}</h3>
    <div class="recipes-grid">
        {% for recipe in recipes %}
        <div class="recipe-card">
            {% if recipe.image_path %}
            <img src="{{ url_for('static', filename='images/' + recipe.image_path) }}" alt="{{ recipe.title }}">
            {% else %}
            <div class="no-image">üì∑</div>
            {% endif %}
            <h3>{{ recipe.title }}</h3>
            <p>{{ recipe.description[:80] }}...</p>
            <a href="{{ url_for('recipe_detail', recipe_id=recipe.id) }}" class="btn">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
        </div>
        {% endfor %}
    </div>
    {% endif %}
</div>

<style>
.search-form { max-width: 600px; }
.form-row { display: flex; gap: 4%; }
</style>
{% endblock %}
